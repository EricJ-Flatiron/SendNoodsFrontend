{"ast":null,"code":"var _jsxFileName = \"/Users/ENJohnson/Development/code/Module5/SendNoods/frontend/src/components/CheckoutForm.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport { CardElement, injectStripe } from \"react-stripe-elements\";\n\nclass CheckoutForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      complete: false\n    };\n\n    this.submit = async () => {\n      let {\n        token\n      } = await this.props.stripe.createToken({\n        name: 'Test'\n      });\n      let response = await fetch('http://localhost:3000/charges', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          token: token.id,\n          orderId: this.props.orderId\n        })\n      });\n\n      if (response.ok) {\n        this.setState({\n          complete: true\n        });\n      }\n    };\n  }\n\n  render() {\n    if (this.state.complete) return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 37\n      }\n    }, \"Purchase Complete\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }, \"Complete dis ish?\"), /*#__PURE__*/React.createElement(CardElement, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    }, \"Purchase\"));\n  }\n\n}\n\nexport default injectStripe(CheckoutForm);","map":{"version":3,"sources":["/Users/ENJohnson/Development/code/Module5/SendNoods/frontend/src/components/CheckoutForm.js"],"names":["React","Component","useState","useEffect","CardElement","injectStripe","CheckoutForm","state","complete","submit","token","props","stripe","createToken","name","response","fetch","method","headers","body","JSON","stringify","id","orderId","ok","setState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,uBAA1C;;AAEA,MAAMC,YAAN,SAA2BL,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAEnCM,KAFmC,GAE3B;AACNC,MAAAA,QAAQ,EAAE;AADJ,KAF2B;;AAAA,SAMnCC,MANmC,GAM1B,YAAY;AACnB,UAAI;AAACC,QAAAA;AAAD,UAAU,MAAM,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,WAAlB,CAA8B;AAACC,QAAAA,IAAI,EAAE;AAAP,OAA9B,CAApB;AACA,UAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAAD,EAAkC;AAC1DC,QAAAA,MAAM,EAAE,MADkD;AAE1DC,QAAAA,OAAO,EAAE;AACP,0BAAiB;AADV,SAFiD;AAK1DC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBX,UAAAA,KAAK,EAAEA,KAAK,CAACY,EADM;AAEnBC,UAAAA,OAAO,EAAE,KAAKZ,KAAL,CAAWY;AAFD,SAAf;AALoD,OAAlC,CAA1B;;AAWA,UAAIR,QAAQ,CAACS,EAAb,EAAiB;AACf,aAAKC,QAAL,CAAc;AACZjB,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGD;AACF,KAxBkC;AAAA;;AA0BnCkB,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKnB,KAAL,CAAWC,QAAf,EAAyB,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAP;AAEzB,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAEE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAQ,MAAA,OAAO,EAAE,KAAKC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,CADF;AAOD;;AApCkC;;AAsCrC,eAAeJ,YAAY,CAACC,YAAD,CAA3B","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport { CardElement, injectStripe } from \"react-stripe-elements\";\n\nclass CheckoutForm extends Component {\n  \n  state = {\n    complete: false\n  }\n\n  submit = async () => {\n    let {token} = await this.props.stripe.createToken({name: 'Test'});\n    let response = await fetch('http://localhost:3000/charges', {\n      method: 'POST',\n      headers: {\n        'Content-Type' : 'application/json'\n      },\n      body: JSON.stringify({\n        token: token.id,\n        orderId: this.props.orderId\n      })\n    })\n\n    if (response.ok) {\n      this.setState({\n        complete: true\n      })\n    }\n  }\n\n  render() {\n    if (this.state.complete) return <h1>Purchase Complete</h1>\n\n    return (\n      <div>\n        <p>Complete dis ish?</p>\n        <CardElement/>\n        <button onClick={this.submit}>Purchase</button>\n      </div>\n    )\n  }\n}\nexport default injectStripe(CheckoutForm);"]},"metadata":{},"sourceType":"module"}