{"ast":null,"code":"var _jsxFileName = \"/Users/ENJohnson/Development/code/Module5/SendNoods/frontend/src/components/CheckoutForm.js\";\nimport React, { Component } from \"react\";\nimport { CardElement, injectStripe } from \"react-stripe-elements\";\n\nclass CheckoutForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      complete: false\n    };\n\n    this.submit = async () => {\n      let {\n        token\n      } = await this.props.stripe.createToken({\n        name: 'Test'\n      });\n      let response = await fetch('http://localhost:3001/payment', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${this.props.token}`\n        },\n        body: JSON.stringify({\n          token: token.id,\n          userId: this.props.userId\n        })\n      });\n\n      if (response.ok) {\n        this.setState({\n          complete: true\n        });\n      }\n    };\n  }\n\n  render() {\n    if (this.state.complete) return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 37\n      }\n    }, \"Purchase Complete\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }\n    }, \"Complete dis ish?\"), /*#__PURE__*/React.createElement(CardElement, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }, \"Purchase\"));\n  }\n\n}\n\nexport default injectStripe(CheckoutForm);","map":{"version":3,"sources":["/Users/ENJohnson/Development/code/Module5/SendNoods/frontend/src/components/CheckoutForm.js"],"names":["React","Component","CardElement","injectStripe","CheckoutForm","state","complete","submit","token","props","stripe","createToken","name","response","fetch","method","headers","Authorization","body","JSON","stringify","id","userId","ok","setState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,uBAA1C;;AAEA,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAEnCI,KAFmC,GAE3B;AACNC,MAAAA,QAAQ,EAAE;AADJ,KAF2B;;AAAA,SAMnCC,MANmC,GAM1B,YAAY;AACnB,UAAI;AAACC,QAAAA;AAAD,UAAU,MAAM,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,WAAlB,CAA8B;AAACC,QAAAA,IAAI,EAAE;AAAP,OAA9B,CAApB;AACA,UAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAAD,EAAkC;AAC1DC,QAAAA,MAAM,EAAE,MADkD;AAE1DC,QAAAA,OAAO,EAAE;AACP,0BAAiB,kBADV;AAEPC,UAAAA,aAAa,EAAI,UAAS,KAAKR,KAAL,CAAWD,KAAM;AAFpC,SAFiD;AAM1DU,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBZ,UAAAA,KAAK,EAAEA,KAAK,CAACa,EADM;AAEnBC,UAAAA,MAAM,EAAE,KAAKb,KAAL,CAAWa;AAFA,SAAf;AANoD,OAAlC,CAA1B;;AAYA,UAAIT,QAAQ,CAACU,EAAb,EAAiB;AACf,aAAKC,QAAL,CAAc;AACZlB,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGD;AACF,KAzBkC;AAAA;;AA2BnCmB,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKpB,KAAL,CAAWC,QAAf,EAAyB,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAP;AAEzB,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAEE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAQ,MAAA,OAAO,EAAE,KAAKC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,CADF;AAOD;;AArCkC;;AAuCrC,eAAeJ,YAAY,CAACC,YAAD,CAA3B","sourcesContent":["import React, { Component } from \"react\";\nimport { CardElement, injectStripe } from \"react-stripe-elements\";\n\nclass CheckoutForm extends Component {\n  \n  state = {\n    complete: false\n  }\n\n  submit = async () => {\n    let {token} = await this.props.stripe.createToken({name: 'Test'});\n    let response = await fetch('http://localhost:3001/payment', {\n      method: 'POST',\n      headers: {\n        'Content-Type' : 'application/json',\n        Authorization : `Bearer ${this.props.token}`\n      },\n      body: JSON.stringify({\n        token: token.id,\n        userId: this.props.userId\n      })\n    })\n\n    if (response.ok) {\n      this.setState({\n        complete: true\n      })\n    }\n  }\n\n  render() {\n    if (this.state.complete) return <h1>Purchase Complete</h1>\n\n    return (\n      <div>\n        <p>Complete dis ish?</p>\n        <CardElement/>\n        <button onClick={this.submit}>Purchase</button>\n      </div>\n    )\n  }\n}\nexport default injectStripe(CheckoutForm);"]},"metadata":{},"sourceType":"module"}